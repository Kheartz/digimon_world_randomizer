----------------------------------------------------------------------------------------------------

----------------------------------------------------------------------------------------------------
starting digimon offsets (agumon + gabumon)
0x14D271B8 and 0x14D271C0 single byte value (0x03 and 0x11)

set starting move learned (must match above)
0x14CD1D24 + 0x14CD1D40 (03 -> Digimon ID, 02 -> Move ID)
0x14CD1D44 + 0x14CD1D60 (11 -> Digimon ID, 2B -> Move ID)

0x14CD1D30 (2E for first slot)
0x14CD1D50 (30 for third slot)

animation (move equipeed) starts at 2E for moves


Static Elect	Electric Cloud	Water Blit	Aqua Magic	Electric Shock
0x0C		0x0A		0x14		0x15		0x42

                     digi      	set     		idx
3  > 0x03 + 0x02   (agumon, 	spitfire)		1
4  > 0x04 + 0x0C   (betamon, 	static elect)	1
17 > 0x11 + 0x2B   (gabumon,	sonic jab)		3
18 > 0x12 + 0x0C   (elecmon,	static elect)	4
31 > 0x1F + 0x2B   (patamon,	sonic jab)		1
32 > 0x20 + 0x25   (kunemon,	poison claw)	4
45 > 0x2D + 0x02   (biyomon,	spit fire)		1
46 > 0x2E + 0x25   (palmon, 	poison claw)	1
57 > 0x39 + 0x25   (penguinmon, poison claw)	1
----------------------------------------------------------------------------------------------------

----------------------------------------------------------------------------------------------------
digimon stats data block begins at 0x14D6E9DC and ends at 0x14D7145C

total of 0x2A80 (10880) bytes

each block is 0x34 (52) bytes

exclusion sections of 0x130 (304) bytes each
    0x14D6EB28 - 0x14D6EC58  (inside Devimon 6)
    0x14D6F458 - 0x14D6F588  (inside Biyomon 45)
    0x14D6FD88 - 0x14D6FEB8  (inside Piddomon 85)
    0x14D706B8 - 0x14D707E8  (inside Master Tyrannomon 124)
    0x14D70FE8 - 0x14D71118  (inside Biyomon 163)

data block format:
20  char[20]  name
 4  sint32    models
 2  sint16    radius
 2  sint16    height
 1  uint8     type   (data, virus, vaccine)
 1  uint8     level  (fresh, in-training, etc)
 3  uint8[3]  spec  (-1 = none)
 1  uint8     item   (0 = sm.recovery, etc)
 1  uint8     drop%  (chance to drop)
16  uint8[16] techs
 1  pad[1]
----------
52  total
----------------------------------------------------------------------------------------------------

----------------------------------------------------------------------------------------------------
item info block begins at 0x14D676C4 and ends at 0x14D68924

total of 0x1260 (4704) bytes

each block is 0x20 (32) bytes

exclusion sections of 0x130 (304) bytes each
    0x14D67CE8 - 0x14D67E18 (inside Red Berry 49)
    0x14D68618 - 0x14D68748 (inside Coral charm 113)

data block format:
20  char[20] name
 4  uint32   price
 2  uint16   merit
 2  uint16   sort
 1  uint8    color
 1  bool     dropable
 2  pad[2]
----------
32  total
----------------------------------------------------------------------------------------------------

----------------------------------------------------------------------------------------------------
evo to/from table block begins at 0x14D6CE04 and ends at 0x14D6D1FF

total of 0x3FB (1019) bytes

each block is 0xB (11) bytes

exclusion sections of 0x130 (304) bytes each
    0x14D6CF98 - 0x14D6D0C8  (inside Bakemon to 3-4)

data block format:
 5  uint8[5]    fromEvo
 6  uint8[6]    toEvo
----------
11  total
----------------------------------------------------------------------------------------------------

----------------------------------------------------------------------------------------------------
tech data table block begins at 0x14D66DF8 and ends at 0x14D676A8

total of 0x8B0 (2224) bytes

each block is 0x10 (16) bytes

exclusion sections of 0x130 (304) bytes each
    0x14D673B8 - 0x14D674E8

data block format:
 2 uint16       power
 1 uint8        mp/3
 1 uint8        itime
 1 uint8        range
 1 uint8        spec
 1 uint8        effect
 1 uint8        accuracy
 1 uint8        effChance
 5 pad[5]
 1 uint8        aiDist
 1 pad[1]
----------
16 total

Unknown4 looks like flags to me, uses bits 5, 7, and 8 (0x10, 0x40, 0x90)
----------------------------------------------------------------------------------------------------

----------------------------------------------------------------------------------------------------
Tech "tier" is determined by order of appearance in the brains training
learning table.

tech tier list block begins at 0x14C8E554 and ends at 0x0x14C8E58C

total of 0x38 (56) bytes

consists of a double array of bytes, where each bytes is a tech id
the indices are specialty and then tier

so table[x][y] is the tech ID with specialty x and tier y


----------------------------------------------------------------------------------------------------

----------------------------------------------------------------------------------------------------
tech name block begins at 0x14D65494 and ends at 0x14D65BF0

total of 0x75C (1884) bytes

blocks are variable length strings packed in 4-byte alignment

exclusion sections of 0x130 (304) bytes each
    0x14D65828 - 0x14D65958 (inside Spiral Twister)

this info is largely useless because the techs are pointered (not all in one block!)
----------------------------------------------------------------------------------------------------

----------------------------------------------------------------------------------------------------
seadramon tech gifts + bug

bug is set by learnMove 33 at 0x14029E3E and if move at 0x14029B32 (this... may not be right.)
seadramon learnMove @ 0x13FE219A and if move @ 0x13FE2192 (this one is the exact byte, cuz ifs suck)
                    @ 0x13FE21E4             @ 0x13FE21DC
                    @ 0x13FE2232             @ 0x13FE222A
----------------------------------------------------------------------------------------------------

----------------------------------------------------------------------------------------------------
spawnItem has a few weird things because of the centarumon maze:

'Giant Meat' spawns on the map.
'Off. Disk' spawns on the map.
'MP Floppy' spawns on the map.
'sm.recovery' spawns on the map.
'Def. Disk' spawns on the map.
'Meat' spawns on the map.
'Port. potty' spawns on the map.
'Hispeed dsk' spawns on the map.
'med.recovery' spawns on the map.
'Moldy Meat' spawns on the map.
'Orange bana' spawns on the map.
'Happymushrm' spawns on the map.
'Auto Pilot' spawns on the map.
'Omni Disk' spawns on the map.
'Medium MP' spawns on the map.

I think a good solution is to swap food -> food and nonfood -> nonfood (and balance using price)
This should mean we still have weird crap in centarumon but no MP Floppys in native forest (or....
allow that?  but also make centarumon's place weird af somehow?)
----------------------------------------------------------------------------------------------------

----------------------------------------------------------------------------------------------------
Recruitment trigger research:
    Recruitment triggers are: 203-258  minus 215, 216, 229, 230, 243, 244 (and a couple others)

    don't mess with agumon's recruitment trigger! breaks stuff

    much more complicated... need to change a billion ifs.  May not be feasible after all.

    The idea: when you beat Gabumon, you recruit Elecmon instead.  To make the fewest changes, we do
              this by letting it still set/check trigger #217 for defeat/spawn of Gabumon.  However,
              we change all of Elecmon's triggers outside of spawn/defeat to use #217 now (Gabumon's
              trigger).  So now you defeat Gabumon and he will not show up anymore, and now Elecmon
              shows up in town.

    Elecmon triggers:
        NO TOUCH:       (must be 218)
            _71     04330   Spawn fightable elecmon
            _254    03234   Rumor about elecmon

        MUST CHANGE:    (must be new val)
            _192    10096   Elecmon intro
            _192    10438   Show elecmon hanging out
            _162    00974   Show objects (lights?)
            _163    00330   some other object shared with shellmon
            _163    00442   more objects (night only)
            _163    00462   more objects
            _163    00506   more objetcs (night only)
            _163    00582   more objects
            _5      02760   Jijimon


    Meramon triggers:
        NO TOUCH:       (must be 209)
            _29     02686   Spawn fightable meramon
            _31     02732   Spawn fightable meramon
            _52     02992   Meramon cutscene
            _51     00044   Warp to hot/cold volcano
            _254    02100   Some part of meramon recruiting
            _52     02426   Warp to hot/cold volcano also?
            _254    02270   Rumor about meramon

        MUST CHANGE:    (must be new val)
            _214    11310   Meramon intro
            _214    11612   Meramon hangin out
            _215    11728   Meramon intro
            _215    12030   Meramon hangin out
            _52     03002   Show restaurant
            _52     03230   Show restaurant
            _52     03458   Show restaurant
            _52     00618   Show restaurant
            _52     00846   Show restaurant
            _52     01074   Show restaurant
            _51     01366   Show restaurant
            _51     01594   Show restaurant
            _51     01822   Show restaurant
            _81     00390   Show restaurant
            _254    00756   Show restaurant
            _51     01200   Show restaurant
            _51     01428   Show restaurant
            _51     01656   Show restaurant
            _254    00534   Show restaurant
            _51     00368   Show restaurant
            _51     00596   Show restaurant
            _51     00824   Show restaurant
            _52     02546   Show restaurant
            _52     02774   Show restaurant
            _52     03002   Show restaurant
            _51     02522   Show restaurant
            _51     02750   Show restaurant
            _51     02978   Show restaurant
            _81     00054   Meramon intro as chef
            _81     01094   Meramon intro as chef alternate
            _51     02242   Show restaurant
            _51     02470   Show restaurant
            _51     02698   Show restaurant
            _81     00058   Meramon intro as chef
            _81     01076   Meramon intro as chef alternate
            _51     02656   Show restaurant
            _51     02884   Show restaurant
            _51     03114   Show restaurant
            _51     00198   Show restaurant
            _51     00426   Show restaurant
            _51     00654   Show restaurant
            _51     00014   Restaurant dialog
            _5      01844   Jijimon

    Tyrannomon triggers:
        NO TOUCH:       (must be 208)
            _82     05056   Dino region quest stuff
            _82     05076   Dino region quest stuff
            _86     05226   Dino region quest stuff
            _6      02246   Dino region quest stuff
            _254    02074   Rumor about Tyrannomon


        MUST CHANGE:    (must be new val)
            _214    11338   Tyrannomon intro
            _214    11636   Tyrannomon hangin out
            _215    11756   Tyrannomon intro
            _215    12056   Tyrannomon hangin out
            _254    00354   Tyrannomon intro as chef
            _254    01288   Tyrannomon intro as chef alternate
            _81     00362   Tyrannomon intro as chef
            _81     01290   Tyrannomon intro as chef alternate
            _51     00110   Restaurant dialog
            _5      01652   Jijimon

            see meramon for all "show restaurant" cues



----------------------------------------------------------------------------------------------------

----------------------------------------------------------------------------------------------------
Ideas for things to randomize:
  ✓Starters and their starting tech
  ✓Items in chests
  ✓Items given by Tokomon
  ✓Seadramon tech gifts and bug (easy)
  ✓Map items (time consuming)
    Meat farm random food?
    Meat farm 5x bonus -> random food (difficult!! string encoding etc)
    Vending machines (difficult, hard-coded text boxes)
    Background music (probably easy, but do I want this?)
    Enemy digimon (difficult, but very high value if done.  Requires a change in 2 places for each.)
  ✓Evolutions (highly requested)
  ----MUST FIX REQS FOR PANJYAMON, GIGADRAMON, METALETEMON!!!
    Learnable techs (most likely not possible, but cool af)
    Random recruitments (who you get from what recruitment)
  ✓Digimon drops/droprates from fights
    Mojyamon item trading items
    All special evos
  ✓Tech Data
----------------------------------------------------------------------------------------------------

----------------------------------------------------------------------------------------------------
Replace AS Decoder with save game?
    0x14D66940 is description "You can read Ancient Script\0"
                              "Save the game anywhere!    \0"
    0x14D688A4 is item name.  Technically 20 characters, but in practice only 12.
                              "Game Saver"
                              "Save Floppy"
    need Save function pointer
    need item function pointer table (to insert save function)
----------------------------------------------------------------------------------------------------

----------------------------------------------------------------------------------------------------
Patch for evo items giving stats/lifespan:
    0x14CF5AFC change 01 -> 00
----------------------------------------------------------------------------------------------------

----------------------------------------------------------------------------------------------------
Known bugs:
CURRENT:
--Alternate version of dynamite and horizontal kick are not being randomized (partner digimon can
  actually learn these, contrary to what I thought before)
--Properity value can get messed up by randomizing recruitments and then saving the game (saving
  the game recalculates the PP from what you have, but is added when you recruit)
FIXED:
--When dropable quest item patch has already been applied to the target rom, they will start to
  appear all over the place (chests in particular) and this is no bueno
--Myotismon quest steak gets randomized and the quest cannot be finished
----------------------------------------------------------------------------------------------------

----------------------------------------------------------------------------------------------------
To build distributable:
    1. run build.bat
    2. share digimon_randomize.zip
